{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState, useLayoutEffect } from 'react';\nimport * as d3 from 'd3';\nexport default function useSVGCanvas(d3Container) {\n  _s();\n  //takes a ref to a container, makes an svg over it, and returns the svg selection, size ,and a tooltip\n  const [windowHeight, windowWidth] = useWindowSize();\n  const [height, setHeight] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [svg, setSvg] = useState();\n  const [tTip, setTTip] = useState();\n  useEffect(function makeSvg() {\n    if (d3Container.current) {\n      d3.select(d3Container.current).selectAll('svg').remove();\n      var h = d3Container.current.clientHeight;\n      var w = d3Container.current.clientWidth;\n      var canvas = d3.select(d3Container.current).append('svg').attr('class', 'frameEntryD3')\n      // .attr('viewbox',[0,0,width,height])\n      .attr('width', w).attr('height', h);\n      if (d3.select('body').select('.tooltip').empty()) {\n        d3.select('body').append('div').attr('class', 'tooltip').style('visibility', 'hidden');\n      }\n      var tip = d3.select('body').select('.tooltip');\n      setHeight(h);\n      setWidth(w);\n      setSvg(canvas);\n      setTTip(tip);\n    }\n  }, [d3Container.current, windowWidth, windowHeight]);\n  return [svg, height, width, tTip];\n}\n_s(useSVGCanvas, \"6d92GQZH+mK4clAu22BYoCoxaso=\", false, function () {\n  return [useWindowSize];\n});\nfunction useWindowSize() {\n  _s2();\n  const [size, setSize] = useState([0, 0]);\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize([window.innerWidth, window.innerHeight]);\n    }\n    window.addEventListener('resize', updateSize);\n    updateSize();\n    return () => window.removeEventListener('resize', updateSize);\n  }, []);\n  return size;\n}\n_s2(useWindowSize, \"13XWg4Ot0MOczACYcn76+JLjv8w=\");","map":{"version":3,"names":["React","useEffect","useState","useLayoutEffect","d3","useSVGCanvas","d3Container","_s","windowHeight","windowWidth","useWindowSize","height","setHeight","width","setWidth","svg","setSvg","tTip","setTTip","makeSvg","current","select","selectAll","remove","h","clientHeight","w","clientWidth","canvas","append","attr","empty","style","tip","_s2","size","setSize","updateSize","window","innerWidth","innerHeight","addEventListener","removeEventListener"],"sources":["E:/UIC 2024 spring/Courses Docs/CS 529/HW01/Final/CS529_HW01/src/useSVGCanvas.js"],"sourcesContent":["import React, { useEffect, useState, useLayoutEffect } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nexport default function useSVGCanvas(d3Container){\r\n    //takes a ref to a container, makes an svg over it, and returns the svg selection, size ,and a tooltip\r\n    const [windowHeight, windowWidth] = useWindowSize();\r\n    const [height, setHeight] = useState(0);\r\n    const [width, setWidth] = useState(0);\r\n    const [svg, setSvg] = useState();\r\n    const [tTip, setTTip] = useState();\r\n\r\n\r\n    useEffect(function makeSvg(){\r\n        if(d3Container.current){\r\n            \r\n            d3.select(d3Container.current).selectAll('svg').remove();\r\n\r\n            var h = d3Container.current.clientHeight;\r\n            var w = d3Container.current.clientWidth;\r\n\r\n            var canvas = d3.select(d3Container.current)\r\n                .append('svg')\r\n                .attr('class','frameEntryD3')\r\n                // .attr('viewbox',[0,0,width,height])\r\n                .attr('width',w)\r\n                .attr('height',h);\r\n\r\n            if(d3.select('body').select('.tooltip').empty()){\r\n                d3.select('body').append('div')\r\n                    .attr('class','tooltip')\r\n                    .style('visibility','hidden');\r\n            }\r\n            var tip = d3.select('body').select('.tooltip');\r\n\r\n            setHeight(h);\r\n            setWidth(w);\r\n            setSvg(canvas);\r\n            setTTip(tip);\r\n        }\r\n    },[d3Container.current,windowWidth, windowHeight]);\r\n\r\n    return [svg, height, width, tTip]\r\n}\r\n\r\nfunction useWindowSize() {\r\n    const [size, setSize] = useState([0, 0]);\r\n    useLayoutEffect(() => {\r\n      function updateSize() {\r\n        setSize([window.innerWidth, window.innerHeight]);\r\n      }\r\n      window.addEventListener('resize', updateSize);\r\n      updateSize();\r\n      return () => window.removeEventListener('resize', updateSize);\r\n    }, []);\r\n    return size;\r\n  }"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}